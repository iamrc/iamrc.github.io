<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="RC'S BLOG">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="RC'S BLOG">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RC'S BLOG">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> RC'S BLOG </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">RC'S BLOG</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/09/python单元测试/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="rc">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="RC'S BLOG">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="RC'S BLOG" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/09/python单元测试/" itemprop="url">
                  python单元测试
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-09T17:36:11+08:00">
                2017-04-09
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="单元测试概念"><a href="#单元测试概念" class="headerlink" title="单元测试概念"></a>单元测试概念</h1><pre><code>单元测试（unit test）是用来对一个模块、函数或者类来进行检查和验证，通常由开发人员完成。
</code></pre><p>比如对求绝对值函数abs()，我们可以编写出以下几个测试用例：<br>    输入<br>    正数，比如0.05、1、2.3，期待返回值与输入相同；<br>    负数，比如-0.2、-1、-1.2，期待返回值与输入相反；<br>    0，期待返回0；<br>    输入非数值类型，比如None、[]、{}，期待抛出TypeError。<br>把上面的测试用例放到一个测试模块里，就是一个完整的单元测试。<br>如果单元测试通过，说明我们测试的这个函数能够正常工作。如果单元测试不通过，要么函数有bug，要么测试条件输入不正确，总之，需要修复使单元测试能够通过。<br>单元测试通过后有什么意义呢？如果我们对abs()函数代码做了修改，只需要再跑一遍单元测试，如果通过，说明我们的修改不会对abs()函数原有的行为造成影响，如果测试不通过，说明我们的修改与原有行为不一致，要么修改代码，要么修改测试。<br>这种以测试为驱动的开发模式最大的好处就是确保一个程序模块的行为符合我们设计的测试用例。在将来修改的时候，可以极大程度地保证该模块行为仍然是正确的。</p>
<h1 id="编写单元测试"><a href="#编写单元测试" class="headerlink" title="编写单元测试"></a>编写单元测试</h1><p>我们来编写一个Dict类，这个类的行为和dict一致，但是可以通过属性来访问，用起来就像下面这样：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>d = Dict(a=<span class="number">1</span>, b=<span class="number">2</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'a'</span>]</div><div class="line"><span class="number">1</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d.a</div><div class="line"><span class="number">1</span></div></pre></td></tr></table></figure></p>
<p>mydict.py代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dict</span><span class="params">(dict)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, **kw)</span>:</span></div><div class="line">        super(Dict, self).__init__(**kw)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self, key)</span>:</span></div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="keyword">return</span> self[key]</div><div class="line">        <span class="keyword">except</span> KeyError:</div><div class="line">            <span class="keyword">raise</span> AttributeError(<span class="string">r"'Dict' object has no attribute '%s'"</span> % key)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, key, value)</span>:</span></div><div class="line">        self[key] = value</div></pre></td></tr></table></figure>
<p>为了编写单元测试，我们需要引入Python自带的unittest模块，编写mydict_test.py如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> unittest</div><div class="line"></div><div class="line"><span class="keyword">from</span> mydict <span class="keyword">import</span> Dict</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestDict</span><span class="params">(unittest.TestCase)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_init</span><span class="params">(self)</span>:</span></div><div class="line">        d = Dict(a=<span class="number">1</span>, b=<span class="string">'test'</span>)</div><div class="line">        self.assertEquals(d.a, <span class="number">1</span>)</div><div class="line">        self.assertEquals(d.b, <span class="string">'test'</span>)</div><div class="line">        self.assertTrue(isinstance(d, dict))</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_key</span><span class="params">(self)</span>:</span></div><div class="line">        d = Dict()</div><div class="line">        d[<span class="string">'key'</span>] = <span class="string">'value'</span></div><div class="line">        self.assertEquals(d.key, <span class="string">'value'</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_attr</span><span class="params">(self)</span>:</span></div><div class="line">        d = Dict()</div><div class="line">        d.key = <span class="string">'value'</span></div><div class="line">        self.assertTrue(<span class="string">'key'</span> <span class="keyword">in</span> d)</div><div class="line">        self.assertEquals(d[<span class="string">'key'</span>], <span class="string">'value'</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_keyerror</span><span class="params">(self)</span>:</span></div><div class="line">        d = Dict()</div><div class="line">        <span class="keyword">with</span> self.assertRaises(KeyError):</div><div class="line">            value = d[<span class="string">'empty'</span>]</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_attrerror</span><span class="params">(self)</span>:</span></div><div class="line">        d = Dict()</div><div class="line">        <span class="keyword">with</span> self.assertRaises(AttributeError):</div><div class="line">            value = d.empty</div></pre></td></tr></table></figure>
<p>编写单元测试时，我们需要编写一个测试类，从unittest.TestCase继承。<br>以test开头的方法就是测试方法，不以test开头的方法不被认为是测试方法，测试的时候不会被执行。<br>对每一类测试都需要编写一个test_xxx()方法。由于unittest.TestCase提供了很多内置的条件判断，我们只需要调用这些方法就可以断言输出是否是我们所期望的。最常用的断言就是assertEquals()：<br>self.assertEquals(abs(-1), 1) # 断言函数返回的结果与1相等<br>另一种重要的断言就是期待抛出指定类型的Error，比如通过d[‘empty’]访问不存在的key时，断言会抛出KeyError：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">with</span> self.assertRaises(KeyError):</div><div class="line">    value = d[<span class="string">'empty'</span>]</div></pre></td></tr></table></figure></p>
<p>而通过d.empty访问不存在的key时，我们期待抛出AttributeError：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">with</span> self.assertRaises(AttributeError):</div><div class="line">    value = d.empty</div></pre></td></tr></table></figure></p>
<h1 id="运行单元测试"><a href="#运行单元测试" class="headerlink" title="运行单元测试"></a>运行单元测试</h1><p>一旦编写好单元测试，我们就可以运行单元测试。最简单的运行方式是在mydict_test.py的最后加上两行代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    unittest.main()</div></pre></td></tr></table></figure></p>
<p>这样就可以把mydict_test.py当做正常的python脚本运行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python mydict_test.py</div></pre></td></tr></table></figure></p>
<p>另一种更常见的方法是在命令行通过参数-m unittest直接运行单元测试：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ python -m unittest mydict_test</div><div class="line">.....</div><div class="line">----------------------------------------------------------------------</div><div class="line">Ran <span class="number">5</span> tests <span class="keyword">in</span> <span class="number">0.000</span>s</div><div class="line"></div><div class="line">OK</div></pre></td></tr></table></figure></p>
<p>这是推荐的做法，因为这样可以一次批量运行很多单元测试，并且，有很多工具可以自动来运行这些单元测试。</p>
<h1 id="setUp与tearDown"><a href="#setUp与tearDown" class="headerlink" title="setUp与tearDown"></a>setUp与tearDown</h1><p>可以在单元测试中编写两个特殊的setUp()和tearDown()方法。这两个方法会分别在每调用一个测试方法的前后分别被执行。</p>
<p>setUp()和tearDown()方法有什么用呢？设想你的测试需要启动一个数据库，这时，就可以在setUp()方法中连接数据库，在tearDown()方法中关闭数据库，这样，不必在每个测试方法中重复相同的代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestDict</span><span class="params">(unittest.TestCase)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'setUp...'</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'tearDown...'</span></div></pre></td></tr></table></figure></p>
<p>可以再次运行测试看看每个测试方法调用前后是否会打印出setUp…和tearDown…。</p>
<p>#小结</p>
<p>单元测试可以有效地测试某个程序模块的行为，是未来重构代码的信心保证。<br>单元测试的测试用例要覆盖常用的输入组合、边界条件和异常。<br>单元测试代码要非常简单，如果测试代码太复杂，那么测试代码本身就可能有bug。<br>单元测试通过了并不意味着程序就没有bug了，但是不通过程序肯定有bug。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/05/一次完整的http请求/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="rc">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="RC'S BLOG">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="RC'S BLOG" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/05/一次完整的http请求/" itemprop="url">
                  python连接mysql数据库
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-05T20:51:10+08:00">
                2017-03-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="一，安装mysql"><a href="#一，安装mysql" class="headerlink" title="一，安装mysql"></a>一，安装mysql</h1><p>如果是windows 用户，mysql 的安装非常简单，直接下载安装文件，双击安装文件一步一步进行操作即可。</p>
<p>Linux 下的安装可能会更加简单，除了下载安装包进行安装外，一般的linux 仓库中都会有mysql ，我们只需要通过一个命令就可以下载安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Ubuntu\deepin</div><div class="line"></div><div class="line">&gt;&gt;sudo apt-get install mysql-server </div><div class="line"></div><div class="line">&gt;&gt;Sudo apt-get install  mysql-client</div><div class="line"></div><div class="line">centOS/redhat</div><div class="line"></div><div class="line">&gt;&gt;yum install mysql</div></pre></td></tr></table></figure>
<h1 id="二，安装MySQL-python"><a href="#二，安装MySQL-python" class="headerlink" title="二，安装MySQL-python"></a>二，安装MySQL-python</h1><p>要想使python可以操作mysql 就需要MySQL-python驱动，它是python 操作mysql必不可少的模块。</p>
<p>下载地址：<a href="https://pypi.python.org/pypi/MySQL-python/" target="_blank" rel="external">https://pypi.python.org/pypi/MySQL-python/</a></p>
<p>下载MySQL-python-1.2.5.zip 文件之后直接解压。进入MySQL-python-1.2.5目录:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;python setup.py install</div></pre></td></tr></table></figure>
<h1 id="三，测试"><a href="#三，测试" class="headerlink" title="三，测试"></a>三，测试</h1><p>测试非常简单，检查MySQLdb 模块是否可以正常导入。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">fnngj@fnngj-H24X:~/pyse$ python </div><div class="line">Python 2.7.4 (default, Sep 26 2013, 03:20:56) </div><div class="line">[GCC 4.7.3] on linux2</div><div class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</div><div class="line">&gt;&gt;&gt; import MySQLdb</div></pre></td></tr></table></figure>
<p>没有报错提示MySQLdb模块找不到，说明安装OK </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/01/python中的闭包/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="rc">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="RC'S BLOG">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="RC'S BLOG" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/01/python中的闭包/" itemprop="url">
                  python中的闭包
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-01T22:39:12+08:00">
                2017-03-01
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h1><p>像这种内层函数引用了外层函数的变量（参数也算变量），然后返回内层函数的情况，称为闭包（Closure）。<br><strong>闭包的特点</strong>是返回的函数还引用了外层函数的局部变量，所以，要正确使用闭包，就要确保引用的局部变量在函数返回后不能变。举例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">希望一次返回3个函数，分别计算1x1,2x2,3x3:</div><div class="line">def count():</div><div class="line">    fs = []</div><div class="line">    for i in range(1, 4):</div><div class="line">        def f():</div><div class="line">             return i*i</div><div class="line">        fs.append(f)</div><div class="line">    return fs</div><div class="line"></div><div class="line">f1, f2, f3 = count()</div></pre></td></tr></table></figure>
<p>你可能认为调用f1()，f2()和f3()结果应该是1，4，9，但实际结果全部都是 9（请自己动手验证）。原因就是当count()函数返回了3个函数时，这3个函数所引用的变量 i 的值已经变成了3。由于f1、f2、f3并没有被调用，所以，此时他们并未计算 i<em>i，当 f1 被调用时： 因为f1现在才计算i</em>i，但现在i的值已经变为3</p>
<p>因此，<strong>返回函数不要引用任何循环变量，或者后续会发生变化的变量</strong>。</p>
<h1 id="不引用循环变量，如何使函数返回能计算1x1、2x2、3x3的函数。"><a href="#不引用循环变量，如何使函数返回能计算1x1、2x2、3x3的函数。" class="headerlink" title="不引用循环变量，如何使函数返回能计算1x1、2x2、3x3的函数。"></a>不引用循环变量，如何使函数返回能计算1x1、2x2、3x3的函数。</h1><p>考察下面的函数 f:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">def f(j):</div><div class="line">    def g():</div><div class="line">        return j*j</div><div class="line">    return g</div></pre></td></tr></table></figure></p>
<p>它可以正确地返回一个闭包g，g所引用的变量j不是循环变量，因此将正常执行。在count函数的循环内部，如果借助f函数，就可以避免引用循环变量i,因此，我们的代码可以改为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">def count():</div><div class="line">    fs = []</div><div class="line">    for i in range(1, 4):</div><div class="line">        def f(j):</div><div class="line">            def g():</div><div class="line">                return j*j</div><div class="line">            return g</div><div class="line">        r = f(i)</div><div class="line">        fs.append(r)</div><div class="line">    return fs</div><div class="line">f1, f2, f3 = count()</div><div class="line">print f1(), f2(), f3()</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/01/ubuntu下安装fiddler/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="rc">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="RC'S BLOG">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="RC'S BLOG" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/01/ubuntu下安装fiddler/" itemprop="url">
                  ubuntu下安装fiddler
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-01T21:18:36+08:00">
                2017-03-01
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Fiddler工作原理"><a href="#Fiddler工作原理" class="headerlink" title="Fiddler工作原理"></a>Fiddler工作原理</h1><p>Fiddler的工作原理就是 内建一个代理，作为客户端和网络的中介。在Fiddler启动后，会自动添加一个 IP 为127.0.0.1（回路）端口号为8888的系统代理</p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h3 id="首先，你要有个Mono环境，在Ubuntu环境下，输入命令："><a href="#首先，你要有个Mono环境，在Ubuntu环境下，输入命令：" class="headerlink" title="首先，你要有个Mono环境，在Ubuntu环境下，输入命令："></a>首先，你要有个Mono环境，在Ubuntu环境下，输入命令：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install mono-complete</div></pre></td></tr></table></figure>
<h3 id="其次，下载一个最新的Fiddler-for-Mono版本-并解压"><a href="#其次，下载一个最新的Fiddler-for-Mono版本-并解压" class="headerlink" title="其次，下载一个最新的Fiddler for Mono版本,并解压"></a>其次，下载一个最新的Fiddler for Mono版本,并解压</h3><h3 id="最后，输入命令启动fiddler"><a href="#最后，输入命令启动fiddler" class="headerlink" title="最后，输入命令启动fiddler"></a>最后，输入命令启动fiddler</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ mono Fiddler.exe</div></pre></td></tr></table></figure>
<p>好了，fiddler可以正常使用了</p>
<h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><p>有一个问题就是 Fiddler非正常退出后（比如你直接关闭终端kill掉进程），默认情况下并不会删除配置。那么就导致了，一些浏览器还是指向这个代理，但是这个代理由于Fiddler已经关闭，所以就不会起作用了。这时你需要修改浏览器配置的服务器代理项，设置为不使用任何代理</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/20/APP注册登录功能的设计/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="rc">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="RC'S BLOG">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="RC'S BLOG" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/20/APP注册登录功能的设计/" itemprop="url">
                  APP注册登录功能的设计
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-20T16:17:16+08:00">
                2017-02-20
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="注册登录功能的价值"><a href="#注册登录功能的价值" class="headerlink" title="注册登录功能的价值"></a>注册登录功能的价值</h1><hr>
<p>首先我们来分析注册、登录功能的价值在哪里。换个角度说，为该产品设计注册登录功能的目的何在？对于每个产品来说，只有把握好产品的设计目标，才能找到适合该产品的设计思路。<br>我们从三个层面来分析: </p>
<p>用户层面</p>
<ol>
<li>用户需要在产品中获得一个独立的ID，以体现其个性化的存在。</li>
<li>用户需要产品为其记录使用进度、状态、收藏的内容。</li>
<li>用户希望获得其它用户的真实信息或更详尽的信息。</li>
<li>用户希望产品通过对自己更详尽的了解提供更好的服务。比如大姨吗。</li>
</ol>
<p>功能层面</p>
<ol>
<li>便于跨设备同步数据，也便于在同一设备中切换不同的账户并保留账户之前的状态。</li>
<li>有社交功能的产品必须注册账号以编写自己的UGC的内容，同时便于其它用户辨识。</li>
<li>有交易功能的产品，为个人账户记录订单等交易信息，同时提高交易的安全性。</li>
<li>有应用内付费、VIP会员增值功能的产品，注册登录可以确保用户权益。</li>
</ol>
<p>综上，在设计功能之前，产品经理应该弄清楚你的产品目标属于以上哪些，注册账户功能的重要性怎样，哪些核心功能与其相关联。<br>注册登录方式的分类</p>
<p>在选择注册登录方式之前，先总结一下注册登录设计时要考虑的因素:</p>
<ol>
<li>普遍性：这种注册方式是否绝大部分用户群体都满足注册条件？是否有门槛？</li>
<li>便捷性：注册流程是否方便，易理解，易操作，易记忆？</li>
<li>安全性：这种注册方式是否存在安全性问题？</li>
</ol>
<p>基于以上评价因素，针对三种不同的注册登录方式进行下比较：<br><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B715-1024x436.jpg" alt="way"></p>
<p>下面分别分析一下每种注册方式：</p>
<p>相对于手机号注册，邮箱注册的好处在于邮箱地址可以永久留存，不会有手机换号造成的那种困扰。但是其缺点也比较多：</p>
<p>首先，对于国内用户来说，邮箱的使用频率没有老外那么高，邮箱的重要性远低于QQ、微信、手机，很多用户没有个人邮箱，他们也不会为了注册你的账户去申请个邮箱，所以邮箱注册的需求相对来说较弱。</p>
<p>其次，在移动端利用邮箱注册的体验也较差，因为验证邮箱的话需要跳出APP去接收邮件，无论是登录邮件客户端还是打开浏览器进入邮箱网页，这个操作都提高了流程的复杂度，降低了用户体验。</p>
<p>那么，邮箱注册是否还有存在的价值？为什么还有一些应用保留了邮箱注册功能（或只提供了邮箱注册功能）呢？个人分析有四点原因：</p>
<ol>
<li>APP的用户群体不只国内用户，考虑到外国人的使用习惯，保留了邮箱注册。</li>
<li>一些商务类的APP，用户群体锁定为职场人士，这些人是有邮箱的使用习惯的。</li>
<li>一些学习类的APP，考虑到学生群体换号的可能性比较大（或出国）。</li>
<li>考虑到一些不希望暴露自己手机号，不愿意用手机号注册的用户群体。</li>
</ol>
<p><strong>邮箱注册目前有5种设计逻辑</strong></p>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B7222-1024x927.jpg" alt="logic"></p>
<p>比较这5种方式：</p>
<p>方式①的效率最高，但是没有邮箱验证的话保证不了账户的安全性，若邮箱录入错误则无法找回密码。另外这种方式容易被注册无效账户或恶意注册邮箱，浪费服务器资源。</p>
<p>方式②和③都是快速注册成功，之后再让用户通过邮箱验证的方式验证邮箱的有效性。这种方式的好处是既保证了注册信息的有效性和安全性，也不会降低太多的用户体验。其中方式③是在APP中完成邮箱的验证，这样可以避免方式②中用户注册后忘记去验证的问题。<br>方式④和⑤的验证码（或链接）需要在注册流程中强制输入，这种方式会阻断用户的操作流程，有在注册过程中损失用户的可能。如果邮箱信息对业务逻辑及其重要的话，可以参考这种方式。</p>
<p>如果邮箱信息有一定重要性的话，建议选择第三种方式，以Facebook为例：先注册，后通过发送到邮箱的验证码进行验证，在注册后的首页中，会有验证邮箱的提示。</p>
<p>如果考虑到降低开发成本，或邮箱信息没那么重要的话，可以第二种方式。</p>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B711-1024x390.jpg" alt=""></p>
<blockquote>
<p>手机号注册</p>
</blockquote>
<p>手机号注册是目前主流的注册方式。其特点是便于记忆，短信验证码方便快捷，操作流程体验比较好。基于智能手机的普及，大众用户在操作方式上没有任何障碍。另外，这种方式还能直接获取用户手机号这个重要信息，便于一些业务的展开。</p>
<p>手机号注册的逻辑非常简单，就是录入手机号码后，发起短信验证的请求，当手机收到相应的短信验证码后，在APP中输入验证码，完成注册。</p>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B717-1024x287.jpg" alt=""></p>
<p>基于这个逻辑基础，不同的APP会有不同的设计细节，比如一些APP将所有操作放入一个页面中，比如一些APP会分成：录入手机号-&gt;短信验证-&gt;设置密码三个页面来完成。也有一些直接设计成利用手机号和短信验证码登录的“短信快速登录”，省去了设置密码的环节，加快了注册的速度。由于逻辑基本相同，这些方式实际流程上差别不是很大。</p>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B75-1024x420.jpg" alt=""></p>
<p>另外还有几种不常用的手机号注册方式，用来在接收不到短信的情况下备选。与短信验证的区别主要是验证的过程不同：</p>
<ol>
<li>主动验证：用户向客服号码发送验证短信注册。</li>
<li>免费热线：拨打电话活动验证码注册。</li>
<li>语音验证：客服拨打用户电话告知验证码。</li>
</ol>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B76.jpg" alt=""></p>
<blockquote>
<p>第三方账户登录</p>
</blockquote>
<p>第三方账户登录，国内常见的有微信、微博、QQ三个社交平台的授权登录，国外常见的还有Facebook、Twitter、Google。</p>
<p>下面分析一下利用第三方账户登录的优缺点：</p>
<ul>
<li>优点1：为用户节省注册时间，简单点击两下就可以直接登陆。体验最佳。（不包括微博认证总出错的问题）</li>
<li>优点2：利用第三方平台注册过的用户，都是经过手机或邮箱验证过的用户，安全可靠。同时引入第三方账户的方式也将账户安全性的问题抛给了第三方平台。</li>
<li>优点3：利用第三方账户登录，可以在条件允许下获取第三方平台的信息，比如好友信息、基础资料等信息。</li>
<li>缺点：只利用第三方账户登录的话，无法获得任何有价值的用户注册信息，同时也构建不成自己的用户体系。这是第三方账户登录的最大问题。</li>
</ul>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B716.jpg" alt=""></p>
<p>那么，如何利用好第三方登录的同时，也能逐步构建起自己的用户体系呢？一般的做法是在第三方账户登录后，立即弹出“绑定手机”或“完善信息”的页面，这样的做法会给用户带来很差的体验，用户使用第三方账户登录的本意就是跳过注册的流程快速登录，但登录后发现还要进行跟注册相同的短信验证等操作，会感觉被玩了一样。所以，设计时应尽量避免这种情况的发生。</p>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B77-1024x271.jpg" alt=""></p>
<p>更加合理的解决办法是：①在绑定手机画面中加入“Skip”按钮，让用户自行选择是否录入。②不在第三方账户登录后立即显示绑定手机画面，而是在使用某些必要的功能时弹出绑定画面。</p>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B78-1024x484.jpg" alt=""></p>
<h1 id="注册登录方式的设计思路"><a href="#注册登录方式的设计思路" class="headerlink" title="注册登录方式的设计思路"></a>注册登录方式的设计思路</h1><hr>
<p>以上分析了三种不同的注册登录方式，那么在产品设计过程中，如何设计注册登录的流程，如何选择注册登录的方式呢？</p>
<p>由于不同产品所处的阶段不同、产品目标不同、人群定位不同，所以想要得出一个标准答案是不切实际的。下面给出一个整体的分析思路：</p>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B79-1024x303.jpg" alt=""></p>
<p>首先，分析产品让用户注册登录的必要性。分析有没有必要为APP设计注册功能？如果用户注册登录对于用户、产品功能、商业模式本身带不来任何价值的话，就没必要设计这样的功能。比如一些实用工具类的产品：计算器、手电筒、天气预报、安卓清理大师、语音助手等等。</p>
<p>其次，分析产品让用户注册登录的目的是什么？也就是这个功能为本产品带来怎样的价值，从而得出这个APP应该先注册后使用还是先使用后注册的判断。可以从用户、功能、业务三个层面分析这个问题。注册登录功能对于这三个层面的价值第一小节已经说过，但不同的产品的需求是不一样的。针对本产品，每个层面的需求都需要认真的进行思考：</p>
<blockquote>
<p>用户需求</p>
</blockquote>
<p>从用户角度，分析用户希望注册产品的迫切程度。用户第一次安装使用一个APP时，可以分成三种不同的心理：</p>
<ol>
<li>用户有强烈愿望使用产品。一种情况是产品功能对于用户来说非常有价值，用户愿意花费时间注册使用，比如说一些手游、一些有美女主播的直播类软件。另一种情况是产品功能新奇特用户很像试试，比如FaceU，当女性用户看到了朋友圈里出现了有趣新奇的FaceU靓照时，自己去体验的意愿很强烈。用户有强烈意愿使用的产品，完全可以先注册再让用户去使用。</li>
<li>用户希望先用一用看看，好用了再注册。这就跟体验式消费、先尝后买的思路是一样的。由于大部分用户第一次使用肯定是抱着试试看的态度来的，为了给用户留下最好的第一印象，先使用再注册的流程是必要的。目前大多数的产品都是提供这样的方式，如果你的APP不能让用户有强烈的使用愿望，最好的选择是先让用户去使用，用好了再注册。</li>
<li>用户觉得没必要注册，但产品的功能偶尔会用到。一些使用频度较低的APP，比如铃声、壁纸类软件，以及一些工具+社交类的软件，对于用户来说注册功能对用户带来不了任何价值， 这类APP建议使用先使用后注册的方式。</li>
</ol>
<blockquote>
<p>功能需求</p>
</blockquote>
<p>从功能角度思考，一种情况是产品的核心功能对用户体系依赖程度非常大时，可以先注册再使用。比如QQ、微信、陌陌这样的社交软件，不登录无法正常使用功能。另一种情况是产品某些功能需要用户登录，但对其它功能没影响时，可以使用到该功能时再登录。比如电商APP可以先浏览，在加入购物车或下单时再登录。</p>
<blockquote>
<p>业务需求</p>
</blockquote>
<p>从业务角度来判断，注册信息如果对产品核心业务非常重要的话，可以考虑先注册的模式，或者常用的做法是进入APP的第一屏是注册页面，但在角落里留下“游客入口”的按钮。当然，如果只是为了获取用户的手机号等信息，也不一定非要通过注册这一种途径。可以在产品功能页面中引导用户录入信息或注册。比如驾考宝典的“帮你选车”的小测试功能，再比如设计君的“咨询规划师”功能。</p>
<p>！<a href="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B710-1024x611.jpg" target="_blank" rel="external"></a></p>
<p>最后，分析每个注册登录需求的场景是怎样的，根据场景的分析解决如何得出最适合本APP的注册登录方式的问题。还是从用户、功能、业务三个层面思考：</p>
<blockquote>
<p>功能需求</p>
</blockquote>
<p>从功能角度，对注册登录有需求的功能要的是一个合理的账户体系，至于选择那种注册手段其实不重要。所以可以忽略功能需求对注册登录方式选择的影响。</p>
<blockquote>
<p>用户需求</p>
</blockquote>
<p>对于用户来说，三种注册登录手段的优缺点都很明显，不同的用户的性格特点、生活习惯会影响其选择：比如有的用户讨厌泄露手机号、有的用户没有个人邮箱、有的用户没有安装微博等等。另外，相同用户在不同的情况下也会有不同的选择：比如在挤公交地铁时使用、在吃饭时使用、在看电视剧时使用、闲得无聊时使用、朋友在身旁推荐时使用等等。以这种多样化场景需求来考虑，最合理的做法应该是为用户提供多种注册登录方式，最好是手机号、邮箱、第三方登录都有，让用户自己去选择使用哪种。</p>
<p>进一步分析，如果能锁定APP的目标用户群体，能够细化出突出其特点的用户场景，可以根据其用户特点添加或减少注册登录方式。比如我的APP不考虑海外用户群体，用户基本也没有使用邮箱的习惯，那么就可以考虑不选择邮箱注册的方式。比如我的用户大多数是大学生群体，会经常换手机号，或者一部分还有出国的可能，那么邮箱注册就是必要的。</p>
<blockquote>
<p>业务需求</p>
</blockquote>
<p>分析具体业务需求的场景会得到不同的选择。对于一些业务模式来说用户的手机号信息非常重要，会考虑只保留手机注册一种方式不给用户更多的选择。有的产品考虑到开发成本和日程进度的因素，会选择最常用的手机号注册方式。对于一些产品来说手机号不是必要的信息，可以选择直接利用第三方账户登录。</p>
<p>根据以上分析思路，大家可以试着思考一下这几个问题：</p>
<ol>
<li>58同城为什么没有邮箱注册？为什么主打QQ登录？</li>
<li>简书为什么加入了“豆瓣”第三方账户登录？</li>
<li>印象笔记为什么只有邮箱注册？</li>
</ol>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B712-1024x487.jpg" alt=""></p>
<h1 id="注册登录功能的设计细节"><a href="#注册登录功能的设计细节" class="headerlink" title="注册登录功能的设计细节"></a>注册登录功能的设计细节</h1><hr>
<p>确定了设计思路之后，我们来看看设计登录注册功能中，在细节上要考虑哪些点。以WPS客户端为例，我们分析一下登录注册功能的整个页面流程。其中，邮件验证成功、邮件重置密码、邮件重置密码成功三个页面为利用邮件客户端打开的Web端页面。整个流程逻辑清晰，引导流程的按钮突出醒目突出，需要用户配合的操作都以文字形式进行提示，用户使用起来没有障碍。</p>
<blockquote>
<p>在流程设计中需要注意的细节</p>
</blockquote>
<ol>
<li>注意页面跳转后是否应该有回退按钮，以及点击安卓的back键应该退回到哪个页面。不应该退回到已经提交完数据信息的页面。</li>
<li>重置密码成功后，一般应该返回登录页，让用户输入新密码以便加深记忆。</li>
<li>注册成功后，一般来说会直接登录成功进入APP首页。但一些金融类对账户安全度要求较高的APP会在注册成功后返回登录页，让用户重新输入一遍密码，以加深记忆。</li>
<li>在某些可能会产生异常的点（比如提交数据时服务器异常、邮件或短信未发送、响应超时等），一定做好准备，一旦发生异常给用户合适的提示。</li>
<li>考虑到是否会存在短信验证码，或验证邮件收不到的情况，这种情况能不能提供备选方案。</li>
</ol>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B713-1024x547.jpg" alt=""></p>
<p>功能设计时要注意的细节</p>
<p><strong>用户体验方面</strong></p>
<ol>
<li>将邮箱和手机号输入框整合成一个，节省了空间提升了美观性，还减少了用户的操作步骤。</li>
<li>用户名密码这些必填项未输入时，登录按钮为不可用状态，避免误操作带来的麻烦。</li>
<li>输入框中显示提示信息的方式进一步释放了画面空间，让整个画面更加简洁。但是注意输入框和提示文字的灰度要把握好，太浅了灰难以察看。</li>
<li>画面中核心流程按钮突出显示，其它按钮最小化显示，根据重要程度可以将颜色加以区别。</li>
<li>输入框的获得焦点时突出显示，以便在多个输入框时辨别焦点所处的位置。</li>
<li>错误提示直接显示在画面中，不以弹出对话框的形式或toast的形式实现。弹出对话框体验差，toast显示时间过短的话用户可能没看清。</li>
<li>画面中的输入框、按钮等重要控件尽可能在弹出软键盘时都显示在屏幕上半部分，以便用户切换、确认等操作。</li>
<li>注册/登录失败的情况，提示信息应尽可能详尽，是账户名出错还是密码出错，或者是手机号已经被注册过了，越详细越好。</li>
<li>输入邮箱地址时，建议弹出自动补全功能，自动加入常见的邮箱后缀。</li>
<li>发送验证邮件后，应该给用户详尽的说明和操作提示，也可以加入一个按钮跳转到相应的邮箱地址。</li>
</ol>
<p><strong>功能逻辑方面</strong></p>
<ol>
<li>发送短信前可以弹出对话框提示确认一下手机号，这种做法可以让用户自行确认一下手机号是否输入正确，节省了用户发错一条短信的成本。当然这种做法用户体验稍差。</li>
<li>注册页面考虑是否有必要加入服务条款链接。个人觉得没有必要同时加入一个单选框让用户去选择，因为点击注册按钮就代表了同意服务条款。</li>
<li>为避免反复点击发送多次验证码，点击一次发送验证码按钮后会倒计时恢复功能，一般为60秒。</li>
</ol>
<p><strong>安全性方面</strong></p>
<ol>
<li>密码输入框加入显示/隐藏按钮，默认为明文显示状态。防止用户输入错误。</li>
<li>一般情况下不需要设计“确认密码”输入框，考虑到移动设备空间有限、操作不便。但一些对密码安全要求严格的应用还是会设计“确认密码”功能。</li>
<li>密码输入错误过多时，考虑要不要加入验证码机制，以防止恶意破解密码。</li>
<li>短信验证环节，连续验证次数超过5次时，考虑加入验证码机制，以确保安全性，同时避免无谓的损失。</li>
</ol>
<p><img src="http://image.woshipm.com/wp-files/2016/03/%E6%8D%95%E8%8E%B714-1024x542.jpg" alt=""></p>
<h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><hr>
<blockquote>
<p>如何选择注册登录的方式</p>
</blockquote>
<p>需要综合目标用户的使用习惯和产品业务需求两方面考虑。对于用户来说最合理的办法是提供多种可选的注册方式，给用户多样化的选择。但考虑到业务需要和开发成本等因素，根据业务需要和目标用户习惯可以筛选最适合的注册方式。</p>
<p><strong>如何选择注册登录的时机：</strong></p>
<p>除以下几种情况，建议先让用户使用再注册。</p>
<ol>
<li>软件功能限制必须先注册的，比如QQ、微信等社交软件，再比如咕咚、小米运动这样的软件。</li>
<li>用户有强烈使用意愿使用的产品，比如口碑非常高的、阶段性的爆品、能让用户占到便宜的。</li>
<li>某特定业务原因需要优先注册的。</li>
</ol>
<p><strong>注册登录功能设计需注意的细节：</strong></p>
<p>在确保流程设计完整的前提下，保证用户体验、功能逻辑、安全性尽可能设计完美</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/07/hexo-github搭建我的博客/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="rc">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="RC'S BLOG">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="RC'S BLOG" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/07/hexo-github搭建我的博客/" itemprop="url">
                  hexo+github搭建我的博客
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-07T21:13:04+08:00">
                2017-01-07
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="配置环境"><a href="#配置环境" class="headerlink" title="配置环境"></a>配置环境</h1><ul>
<li><p>安装node<br>用来生成静态页面 到<strong>node.js</strong>官网下载相应平台的最新版本，一路安装。</p>
</li>
<li><p>安装git<br>用来把本地的hexo内容提交到github上去.</p>
</li>
<li><p>申请github账户<br>是用来做博客的远程创库、域名、服务器之类的，（怎么与本地hexo建立连接等下讲) github直接申请就行了，ssh keys，不配置的话以后每次对自己的博客有改动提交的时候就要手动输入账号密码，配置了就不需要了，怎么配置，到网上找教程。</p>
</li>
<li><p>建一个github仓库</p>
</li>
</ul>
<p>仓库名字必须为<code>&lt;YOUR_GITHUB_NAME&gt;.github.io</code></p>
<h1 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h1><ul>
<li>使用npm安装 </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g hexo</div></pre></td></tr></table></figure>
<blockquote>
<p>建议cnpm安装（cnpm国内包套镜像会快很多，怎么配置cnpm，到网上找教程）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cnpm install -g hexo</div></pre></td></tr></table></figure></p>
</blockquote>
<ul>
<li>初始化</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo init 文件夹名称</div></pre></td></tr></table></figure>
<p>完成后，长这个样子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Blog</div><div class="line">　｜</div><div class="line">　｜－－ _config.yml</div><div class="line">　｜－－ node_modules</div><div class="line">　｜－－ public</div><div class="line">　｜－－ source</div><div class="line">　｜－－ db.json</div><div class="line">　｜－－ package.json</div><div class="line">　｜－－ scaffolds</div><div class="line">　｜－－ themes</div></pre></td></tr></table></figure>
<ul>
<li>新建文章</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># 新建文章</div><div class="line">hexo new &quot;postName&quot;</div><div class="line"># 生成静态页面至public目录</div></pre></td></tr></table></figure>
<h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><ul>
<li>本地启动</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo server (或hexo s)</div></pre></td></tr></table></figure>
<p>然后，浏览器输入<strong><a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a></strong>,就可以看到自己的博客了</p>
<ul>
<li>建立关联并用git部署<br>修改config.yml文件中的deploy,这里如果你设置了ssh，repository这里直接在github里复制SSH的就行了,每次对自己的博客有改动提交的时候就不用手动输入账号密码</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repository: https://github.com/username/username.github.io.git</div></pre></td></tr></table></figure>
<blockquote>
<p>执行如下命令，下载一个部署插件，才能使用git部署</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure>
<p>部署至<code>github</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo deploy（或者hexo d）</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="rc" />
          <p class="site-author-name" itemprop="name">rc</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">6</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rc</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  

  

  

  

  


</body>
</html>
